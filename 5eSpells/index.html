<!DOCTYPE html>
<html lang="en">
<head>
	<title>D&amp:D 5e Spell List</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="mobile-web-app-capable" content="yes">
	
	<!-- link rel="icon" href="favicon.png" sizes="16x16" type="image/png"-->
	
	<!-- Bootstrap styling, FA Icons and Taffy javascript database -->
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
	
	<style>
	<!-- TODO export to stylesheet -->
	
	</style>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/taffydb/2.7.2/taffy.js"></script>
	
	<script>
	<!-- TODO export to .js file -->
		$( document ).ready( function() {
			$.get("spells.txt", function(data, status) {
				var outp = '';
				var sp_data = TAFFY(data);
				
				container = $("#spellbody");
				container.empty();
				
				sp_data().each( function(record, recordnumber) {
					row = buildrow(record);
					container.append(row);
				});
			});
			
			function buildrow(record)	{
				var outr = "<tr>";
				outr += "<td>"+(record.level == 0 ? "Cantrip" : record.level)+"</td>";
				outr += "<td>"+record.name+"</td>";
				//outr += "<td>";
				//outr += record.wizard ? "Wz, " : "";
				//outr += "</td>";
				outr += "<td>"+record.school+"</td>";
				outr += "<td>"+(record.ritual ? "Y" : "-") +"</td>";
				outr += "</tr>";
				return (outr);			
			};
		});
	</script>
</head>
<body>
	<div id="wrapper">
		SPells wOrk i nPRogress
		<br>Filters: Class, Level, School
		<table class="table table-striped table-hover table-condensed">
			<thead>
				<tr>
				<th>Level</th>
				<th>Name</th>
				<!--th>Class</th-->
				<th>School</th>
				<th><abbr title="Cast as a Ritual">R.</abbr><th>
				</tr>
			</thead>
			<tbody id="spellbody">
			</tbody>
		</table>
		<div id="list"></div>
	</div>
</body>
</html>